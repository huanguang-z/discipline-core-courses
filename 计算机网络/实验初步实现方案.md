# 实验初步实现方案

## 实验要求

client和server之间的传输满足以下几个需求：

1. client只能发送到指定IP的server，发送到其他IP的数据包作丢弃处理；
2. server和client之间的连接需要保活keep alive;
3. 支持的并发度要不小于1000条连接；



## 实验方案

**针对需求1**，在client和server之间添加ip过滤机制，只允许指定的IP的数据包通过。可以在客户端和服务器端分别使用socket（）函数创建套接字，并通过bind（）函数将套接字绑定到指定的IP地址和端口号上。

**针对需求2**，首先使用TCP协议进行传输，因TCP协议提供了可靠的连接保障和流量控制极值；其次，为了保活连接，在应用层实现一个心跳机制。client和server可以定时互相发送心跳消息，以确认连接的存活状况。如果连接断开，及时catch处理异常情况。

**针对需求3**，采用多线程的方式实现并发处理，server端使用socket（）函数创建一个监听套接字，使用accept（）函数接收client端的连接请求。新的连接请求到达时，可以创建一个新的线程来处理连接，以上使用线程池来管理并重复使用线程，减少创建销毁开销



